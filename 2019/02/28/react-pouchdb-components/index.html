<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>React PouchDB Components - Stan Lemon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Last night I released a new library to GitHub and npm called React PouchDB components.">
  <meta name="keywords" content="coding, React, PouchDB, Git">
  <meta name="author" content="Stan Lemon">
  <meta name="theme-color" content="#FEAE0F"/>
  <link rel="canonical" href="https://stanlemon.com/2019/02/28/react-pouchdb-components/">
  <link rel="alternate" type="application/rss+xml" title="Stan Lemon" href="https://stanlemon.com/feed.xml" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="article">
  <meta property="og:url" content="https://stanlemon.com/2019/02/28/react-pouchdb-components/">
  <meta property="og:title" content="React PouchDB Components">
  <meta property="og:description" content="Last night I released a new library to GitHub and npm called React PouchDB components.">
  <meta property="og:image" content="https://stanlemon.com/assets/lemon-with-leaves@2x.png">
  <meta property="og:site_name" content="Stan Lemon">
  <meta property="article:published_time" content="2019-03-01T02:47:00+0000">
  <meta property="article:author" content="Stan Lemon">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://stanlemon.com/2019/02/28/react-pouchdb-components/">
  <meta name="twitter:title" content="React PouchDB Components">
  <meta name="twitter:description" content="Last night I released a new library to GitHub and npm called React PouchDB components.">
  <meta name="twitter:image" content="https://stanlemon.com/assets/lemon-with-leaves@2x.png">

  <link rel="preload" as="font" href="/assets/fonts/oswald.woff" type="font/woff2" crossorigin="anonymous">

  <link rel="apple-touch-icon" sizes="57x57" href="/assets/icons/apple-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/assets/icons/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/apple-icon-180x180.png">
  <link rel="icon" type="image/png" sizes="192x192"  href="/assets/icons/android-icon-192x192.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="96x96" href="/assets/icons/favicon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/favicon-16x16.png">
  <link rel="manifest" href="/assets/icons/manifest.json">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-TileImage" content="/assets/icons/ms-icon-144x144.png">

  <link rel="stylesheet" href="/css/main.css">

  <!-- Structured Data / JSON-LD -->
  
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "React PouchDB Components",
    "author": {
      "@type": "Person",
      "name": "Stan Lemon"
    },
    "datePublished": "2019-03-01T02:47:00+0000",
    "description": "Last night I released a new library to GitHub and npm called React PouchDB components.",
    "image": "https://stanlemon.com/assets/lemon-with-leaves@2x.png",
    "url": "https://stanlemon.com/2019/02/28/react-pouchdb-components/",
    "publisher": {
      "@type": "Person",
      "name": "Stan Lemon"
    }
  }
  </script>
  

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-LRTQMGFLV3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-LRTQMGFLV3');
  </script>
</head>
<body>

<div class="container" role="main">
  <div class="content">
    <a href="https://stanlemon.com/">
      <img src="https://stanlemon.com/assets/lemon-with-leaves@2x.png" class="post-img" alt="Stan Lemon's logo - a lemon with leaves" />
    </a>

    
<article>
  <div class="columns is-vbottom">
    <div>
      <h2 class="article-title">
        <a href="">React PouchDB Components</a>
      </h2>
    </div>
    <h4 class="article-date">Mar 01, 2019</h4>
  </div>

  <hr>

  <p>Last night I released a new library to <a href="https://github.com/stanlemon/react-pouchdb">GitHub</a> and <a href="https://www.npmjs.com/package/@stanlemon/react-pouchdb">npm</a> called React PouchDB components. I'm excited to share this library, which started as an experiment to illustrate to my friend <a href="http://jonkohlmeier.net">Jon</a> how easy it could be to leverage <a href="http://pouchdb.com">PouchDB</a> in <a href="https://reactjs.org">React</a>. After enough tooling around I suspected that the pieces could be extracted and shared more broadly.</p>
<p>There are a number of different ways to deal with state in React, everything from the simple <a href="https://reactjs.org/docs/state-and-lifecycle.html"><code>setState()</code></a> to <a href="http://redux.js.org">redux</a>. Most sites need remote data, and so as a developer your options become a little more complex, leveraging promises inside of <code>componentDidMount()</code> or tools like <a href="https://www.github.com/reduxjs/redux-thunk">redux-thunk</a>. These are all great, but what I wanted was a simple way to fetch data into PouchDB and for it to be declarative.</p>
<p>Here's what I imagined...</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token punctuation">{</span> Database<span class="token punctuation">,</span> Document <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">"@stanlemon/react-pouchdb"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Database</span></span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Document</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-document<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MyComponent</span></span> <span class="token punctuation">/></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Document</span></span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Database</span></span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">MyComponent</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> name<span class="token punctuation">,</span> description <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token plain-text">
      </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token punctuation">{</span>description<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span><span class="token plain-text">
    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span></code></pre>
<p>There are two components here, the first <code>&lt;MyComponent /&gt;</code> is a simple view, it renders some properties that are passed to it.  The other is <code>&lt;App /&gt;</code> which declaratively establishes a PouchDB database connection using the <code>&lt;Database /&gt;</code> component.  <em>This component can take an optional name and remote URL for syncing.</em> The <code>&lt;App /&gt;</code> component also uses the <code>&lt;Document /&gt;</code> component which is responsible for fetching data out of a PouchDB document and setting it as properties on <code>&lt;MyComponent /&gt;</code>.</p>
<p>One of the other advantages of the <code>&lt;Document /&gt;</code> component is that it provides a property to it's children called <code>putDocument()</code> that allows you to update the state of your document, just as you might when using <code>setState()</code>. This method eagerly updates the component's properties, and then ensures that the document is updated in PouchDB.</p>
<p>As an added bonus, if you're syncing your PouchDB database to a remote <a href="https://docs.couchdb.org">CouchDB</a> instance, the <code>&lt;Document /&gt;</code> component will update properties when change events occur. This means that you can sync down remote updates with little effort in near real time.</p>
<p><strong>There is a working example in the GitHub repository under the <code>./example/</code> directory. It has it's own <code>README</code> and is really easy to spin up and start playing.</strong> <a href="https://stanlemon-react-pouchdb.glitch.me">You can check out the example app over on glitch.</a> This example app showcases several different ways to leverage a document including <code>&lt;Document /&gt;</code> and a higher order function <code>withDocument()</code>.</p>
<p>Ready to give it a spin?</p>
<pre class="language-shell"><code class="language-shell"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">--save</span> @stanlemon/react-pouchdb pouchdb</code></pre>
<p>From there the <a href="https://github.com/stanlemon/react-pouchdb/blob/master/README.md"><code>README</code></a> is your friend!</p>
<p>This library is intended to quickly get a PouchDB database into your react application. It won't work for every situation and there are definitely more complicated use cases that it does not cover, but as a starting point it should get you off the ground quickly.  It's also worth noting that this library is not intended to work with other state container libraries.  Maybe it does, but that'll be purely by chance.  If you are using something like redux you should consider taking a look at <a href="https://github.com/vicentedealencar/redux-pouchdb">redux-pouchdb</a>.</p>
<p>Please reach out with feedback!  I love questions and suggestions so send them my way.</p>
<p><em>Stay tuned, I have some more PouchDB related goodies coming.</em></p>


  

  <hr>
</article>


<p class="text-center">
  <em><a href="https://eepurl.com/gvEkEL">Do you want to get new posts from my website directly in your inbox? Subscribe today!</a></em>
</p>

  </div>
</div>

<footer>
  <div class="text-center">
    <ul>
      <li>
        <a href="https://github.com/stanlemon" rel="noopener" target="_blank" aria-label="You can find some of my coding projects on GitHub" class="social-github">
          <i class="fa-brands fa-github fa-2x" title="GitHub"></i>
        </a>
      </li>
      <li>
        <a href="https://linkedin.com/in/stanlemon" rel="noopener" target="_blank" aria-label="You can find about me professionally on LinkedIn" class="social-linkedin">
          <i class="fa-brands fa-linkedin fa-2x" title="LinkedIn"></i>
        </a>
      </li>
      <li>
        <a href="https://instagram.com/stanlemon" rel="noopener" target="_blank" aria-label="Follow me on Instagram" class="social-instagram">
          <i class="fa-brands fa-instagram fa-2x" title="Instagram"></i>
        </a>
      </li>
      <li>
        <a href="https://threads.net/@stanlemon" rel="noopener" target="_blank" aria-label="Follow me on Threads" class="social-threads">
          <i class="fa-brands fa-threads fa-2x" title="Threads"></i>
        </a>
      </li>
      <li>
        <a href="https://www.youtube.com/@stanlemon" rel="noopener" target="_blank" aria-label="Watch my videos on YouTube" class="social-youtube">
          <i class="fa-brands fa-youtube fa-2x" title="YouTube"></i>
        </a>
      </li>
      <li>
        <a href="https://stanlemon.com/feed.xml" aria-label="Subscribe via RSS" class="social-rss">
          <i class="fa-solid fa-square-rss fa-2x" title="Subscribe via RSS"></i>
        </a>
      </li>
    </ul>
    <p class="copyright">&copy; 2025 Stan Lemon. All rights reserved.</p>
  </div>
</footer>
